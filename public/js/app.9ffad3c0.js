(function(e){function t(t){for(var a,c,p=t[0],l=t[1],s=t[2],i=0,d=[];i<p.length;i++)c=p[i],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&d.push(n[c][0]),n[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,p=1;p<r.length;p++){var l=r[p];0!==n[l]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},n={app:0},o=[];function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var p=window["webpackJsonp"]=window["webpackJsonp"]||[],l=p.push.bind(p);p.push=t,p=p.slice();for(var s=0;s<p.length;s++)t(p[s]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),n=Object(a["f"])("header",null,[Object(a["f"])("h1",null,"Image Uploader")],-1),o=Object(a["f"])("footer",null,[Object(a["g"])("created by "),Object(a["f"])("b",null,"Krzysztof Czapko "),Object(a["g"])("- devChallenges.io")],-1);function c(e,t,r,c,p,l){var s=Object(a["l"])("app-uploader");return Object(a["k"])(),Object(a["e"])(a["a"],null,[n,Object(a["f"])("main",null,[Object(a["h"])(s)]),o],64)}var p={class:"uploader"},l={key:0,class:"uploader__upload"},s={key:0,class:"uploader__error"},u=Object(a["f"])("header",{class:"uploader__header"},[Object(a["f"])("h2",{class:"uploader__heading"},"Upload your image"),Object(a["f"])("p",{class:"uploader__heading-text"},"File should be jpg, png, webp. Max 10 MB")],-1),i=Object(a["f"])("p",{class:"uploader__text"},"Drag & Drop your image here",-1),d=[i],f=Object(a["f"])("p",{class:"uploader__text"},"Or",-1),b={class:"uploader__file-input-container"},j=Object(a["f"])("button",{class:"uploader__button"},"Choose a file",-1),O={key:1,class:"uploader__progress"},g={key:0,class:"uploader__error"},_=Object(a["f"])("header",{class:"uploader__header"},[Object(a["f"])("h2",{class:"uploader__heading"},"Uploading...")],-1),v={class:"uploader__progress-bar"},h={key:2,class:"uploader__result"},y=Object(a["f"])("header",{class:"uploader__header"},[Object(a["f"])("svg",{class:"uploader__success-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[Object(a["f"])("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]),Object(a["f"])("h2",{class:"uploader__heading"},"Uploaded Successfully!")],-1),m={class:"uploader__image"},k=["src"],w={key:0,class:"uploader__error"},x={key:1,class:"uploader__text"},D={class:"uploader__copy"},M=["value"];function P(e,t,r,n,o,c){return Object(a["k"])(),Object(a["e"])("div",p,[Object(a["h"])(a["b"],{name:"zoom",mode:"out-in",appear:""},{default:Object(a["n"])((function(){return["new"===o.state?(Object(a["k"])(),Object(a["e"])("section",l,[o.error?(Object(a["k"])(),Object(a["e"])("div",s,Object(a["m"])(o.error),1)):Object(a["d"])("",!0),u,Object(a["f"])("div",{class:Object(a["i"])(["uploader__drop-zone",{"uploader__drop-zone--over":o.overDropZone}]),onDragover:t[0]||(t[0]=function(e){e.preventDefault(),o.overDropZone=!0}),onDragenter:t[1]||(t[1]=function(e){return o.overDropZone=!0}),onDragleave:t[2]||(t[2]=function(e){return o.overDropZone=!1}),onDrop:t[3]||(t[3]=function(){return c.upload&&c.upload.apply(c,arguments)})},d,34),f,Object(a["f"])("div",b,[Object(a["f"])("input",{class:"uploader__file-input",type:"file",accept:"image/jpg,image/jpeg,image/png,image/webp",onChange:t[4]||(t[4]=function(){return c.upload&&c.upload.apply(c,arguments)})},null,32),j])])):"uploading"===o.state?(Object(a["k"])(),Object(a["e"])("section",O,[o.error?(Object(a["k"])(),Object(a["e"])("div",g,Object(a["m"])(o.error),1)):Object(a["d"])("",!0),_,Object(a["f"])("div",v,[Object(a["f"])("div",{class:"uploader__progress-bar__progress",style:Object(a["j"])({width:"".concat(o.progress,"%")})},null,4)])])):"result"===o.state?(Object(a["k"])(),Object(a["e"])("section",h,[y,Object(a["f"])("div",m,[Object(a["f"])("img",{class:"uploader__img",src:o.filepath},null,8,k)]),o.error?(Object(a["k"])(),Object(a["e"])("div",w,Object(a["m"])(o.error),1)):Object(a["d"])("",!0),o.copyMessage?(Object(a["k"])(),Object(a["e"])("p",x,Object(a["m"])(o.copyMessage),1)):Object(a["d"])("",!0),Object(a["f"])("div",D,[Object(a["f"])("input",{class:"uploader__input",type:"text",value:o.filepath,readonly:"",ref:"copyInput"},null,8,M),Object(a["f"])("button",{class:"uploader__button",onClick:t[5]||(t[5]=function(){return c.copyLink&&c.copyLink.apply(c,arguments)})},"Copy Link")])])):Object(a["d"])("",!0)]})),_:1})])}var z=r("2909"),U=r("1da1"),C=(r("96cf"),r("4de4"),r("d3b7"),r("bc3a")),L=r.n(C),S={name:"Uploader",data:function(){return{error:"",state:"new",overDropZone:!1,progress:0,filepath:"",copyMessage:""}},methods:{upload:function(e){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function r(){var a,n,o,c,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.preventDefault(),a=Object(z["a"])(e.dataTransfer&&e.dataTransfer.files||e.target.files),n=a.filter((function(e){return"image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/webp"===e.type})),o=n[0],!o){r.next=22;break}return c=new FormData,c.append("image",o),r.prev=7,t.progress=0,t.state="uploading",t.error="",r.next=13,L.a.post("",c,{onUploadProgress:function(e){t.progress=e.loaded/e.total*100}});case 13:p=r.sent,t.filepath=p.data.filepath,t.state="result",r.next=22;break;case 18:r.prev=18,r.t0=r["catch"](7),t.state="new",t.error=r.t0.response?r.t0.response.data.message:r.t0.message;case 22:case"end":return r.stop()}}),r,null,[[7,18]])})))()},copyLink:function(){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(e.filepath);case 3:e.copyMessage="Link copied to clipboard",t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),e.error="Unable to copy. Please copy manually",e.$refs.copyInput.select();case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},T=(r("e026"),r("6b0d")),Z=r.n(T);const R=Z()(S,[["render",P]]);var I=R,A={name:"App",components:{AppUploader:I}};r("c202");const B=Z()(A,[["render",c]]);var F=B;Object(a["c"])(F).mount("#app")},a5d0:function(e,t,r){},c202:function(e,t,r){"use strict";r("e493")},e026:function(e,t,r){"use strict";r("a5d0")},e493:function(e,t,r){}});
//# sourceMappingURL=app.9ffad3c0.js.map